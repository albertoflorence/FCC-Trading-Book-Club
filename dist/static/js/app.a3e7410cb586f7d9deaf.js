webpackJsonp([1],{"7zck":function(t,e){},"87wW":function(t,e){},C0n0:function(t,e){},CTPg:function(t,e){},EpVU:function(t,e){},JAgY:function(t,e){},L1cv:function(t,e){},L7pC:function(t,e){},LLxS:function(t,e){},MEyZ:function(t,e){},NHnr:function(t,e,n){"use strict";function s(t){n("cXAc")}function r(t){n("eaj0")}function o(t){n("87wW")}function a(t){n("s4bS")}function i(t){n("L7pC")}function c(t){n("zHxp")}function u(t){n("WGmG")}function l(t){n("v8BH")}function d(t){n("egH7")}function m(t){n("m9dR")}function f(t){n("SQRL")}function v(t){n("L1cv")}function h(t){n("ZaCr")}function p(t){n("JAgY")}function g(t){n("Q+Zj")}function _(t){n("ynRQ")}function b(t){n("vplh")}function k(t){n("zYGc")}function x(t){n("WBN3")}function y(t){n("C0n0")}function w(t){n("bwTm")}function $(t){n("ZntT")}function L(t){n("dooJ")}function B(t){n("EpVU")}function I(t){n("sDqE")}function C(t){n("fIqz")}function U(t){n("UKKv")}function T(t){n("dxLL")}function R(t){n("ugs3")}function E(t){n("xgl4")}function S(t){n("icad")}function F(t){n("CTPg")}function N(t){n("zeV4")}function M(t){n("cz7T")}function V(t){n("Vr4B")}function P(t){n("O0LR")}function A(t){n("LLxS")}function O(t){n("VsN4")}function W(t){n("pipM")}function q(t){n("MEyZ")}Object.defineProperty(e,"__esModule",{value:!0});var D=n("Xxa5"),z=n.n(D),G=n("exGp"),H=n.n(G),j=n("7+uW"),J=n("bOdI"),Z=n.n(J),Q={data:function(){return{value:""}},methods:{search:function(){var t=this;return H()(z.a.mark(function e(){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.value){e.next=2;break}return e.abrupt("return");case 2:return t.$store.dispatch("startLoading","app"),e.next=5,t.$store.dispatch("searchBooks",t.value);case 5:t.$store.dispatch("stopLoading","app"),t.$router.push({name:"books-result",query:{search:t.value}});case 7:case"end":return e.stop()}},e,t)}))()}}},Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticStyle:{"max-width":"500px","min-width":"128px",display:"grid",width:"100%"},on:{submit:function(e){e.preventDefault(),t.search(e)}}},[n("v-text-field",{attrs:{clearable:"",light:"",placeholder:"Search","append-icon":"search","append-icon-cb":t.search,solo:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},K=[],X={render:Y,staticRenderFns:K},tt=X,et=n("VU/8"),nt=s,st=et(Q,tt,!1,nt,null,null),rt=st.exports,ot={computed:{menuItems:function(){return this.$store.getters.isAuthenticated?[{title:"About",icon:"info_outline",link:{name:"about"}},{title:"Logout",icon:"exit_to_app",link:{name:"home"},action:this.logout}]:[{title:"About",icon:"info_outline",link:{name:"about"}},{title:"Login",icon:"person",link:{name:"auth"}}]}},methods:{logout:function(){this.$store.dispatch("signOut")}}},at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{display:"inline-flex"}},t._l(t.menuItems,function(e){return n("router-link",{key:e.title,staticClass:"ml-4",staticStyle:{cursor:"pointer"},attrs:{tag:"div",to:e.link},nativeOn:{click:function(t){e.action&&e.action()}}},[n("v-icon",[t._v(t._s(e.icon))]),t._v(" "),n("div",{staticClass:"caption grey-text"},[t._v(t._s(e.title))])],1)}))},it=[],ct={render:at,staticRenderFns:it},ut=ct,lt=n("VU/8"),dt=r,mt=lt(ot,ut,!1,dt,null,null),ft=mt.exports,vt={computed:{user:function(){return this.$store.getters.user}},data:function(){return{items:[{title:"My books",icon:"account_box",link:{name:"user-books"}},{title:"Settings",icon:"settings",link:{name:"user-settings"}}]}}},ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user?n("v-menu",{attrs:{"offset-y":"",origin:"center center",transition:"scale-transition",bottom:""}},[n("v-btn",{attrs:{slot:"activator",icon:"",flat:""},slot:"activator"},[n("v-icon",[t._v("settings")])],1),t._v(" "),n("v-list",[n("v-container",{staticClass:"pa-3"},[n("v-list-tile",{staticClass:"text-xs-left"},[n("v-list-tile-action",[n("v-icon",[t._v("person")])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(t.user.userName))]),t._v(" "),n("v-list-tile-sub-title",[t._v(t._s(t.user.email))])],1)],1),t._v(" "),n("v-divider"),t._v(" "),t._l(t.items,function(e){return n("v-list-tile",{key:e.title,staticClass:"pt-0",attrs:{dense:"",to:e.link?e.link:null}},[e.icon?n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.icon))])],1):t._e(),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("\n            "+t._s(e.title)+"\n          ")])],1)],1)})],2)],1)],1):t._e()},pt=[],gt={render:ht,staticRenderFns:pt},_t=gt,bt=n("VU/8"),kt=o,xt=bt(vt,_t,!1,kt,null,null),yt=xt.exports,wt={computed:{notifications:function(){return this.$store.getters.notifications},notSeenCount:function(){return this.$store.getters.notSeenCount},hasNotifications:function(){return this.notifications&&this.notifications.length>0},hasNewNotifications:function(){return this.notSeenCount>0}},data:function(){return{showMenu:!1}},methods:{seen:function(t){var e=this;return H()(z.a.mark(function n(){return z.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("notificationSeen",t);case 2:e.fetchData();case 3:case"end":return n.stop()}},n,e)}))()},remove:function(t){this.$store.dispatch("deleteNotification",t)},fetchData:function(){this.$store.dispatch("getNotifications")}},created:function(){this.$store.dispatch("getNotifications")}},$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{attrs:{"offset-y":"",origin:"center center","close-on-content-click":!1,transition:"scale-transition",botton:""}},[n("v-badge",{attrs:{slot:"activator",overlap:"",color:"red"},slot:"activator",model:{value:t.hasNewNotifications,callback:function(e){t.hasNewNotifications=e},expression:"hasNewNotifications"}},[n("span",{attrs:{slot:"badge"},slot:"badge"},[t._v(t._s(t.notSeenCount))]),t._v(" "),n("v-btn",{attrs:{icon:"",flat:""},on:{click:t.fetchData}},[n("v-icon",[t._v("notifications")])],1)],1),t._v(" "),n("v-container",{staticClass:"pa-0 elevation-20",staticStyle:{"max-height":"500px",width:"500px"}},[n("v-list",{attrs:{"three-line":""}},[n("v-container",{staticClass:"py-2"},[n("h3",{staticClass:"text-xs-left"},[t._v("Notifications")])]),t._v(" "),n("v-divider"),t._v(" "),t.notifications?n("v-container",t._l(t.notifications,function(e){return n("v-list-tile",{key:e.book,staticClass:"border elevation-1",attrs:{avatar:"",ripple:!0,replace:"",to:{path:"/user/books",query:{tab:"trade_request"===e.type?"My Pending Trades":"My Trades"}}},on:{click:function(n){t.seen(e._id)}}},[n("v-list-tile-avatar",[n("v-icon",{attrs:{color:"green",disabled:e.seen}},[t._v("new_releases")])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:t._s(e.message)}}),t._v(" "),n("v-list-tile-sub-title",[t._v(t._s(e.time))])],1),t._v(" "),n("v-list-tile-action",[n("v-btn",{attrs:{icon:""},on:{click:function(n){n.preventDefault(),t.remove(e._id)}}},[n("v-icon",{attrs:{color:"red"}},[t._v("remove")])],1)],1)],1)})):t._e(),t._v(" "),t.hasNotifications?t._e():n("h4",{staticClass:"ma-3"},[t._v("no new notifications")])],1)],1)],1)},Lt=[],Bt={render:$t,staticRenderFns:Lt},It=Bt,Ct=n("VU/8"),Ut=a,Tt=Ct(wt,It,!1,Ut,"data-v-b06bccee",null),Rt=Tt.exports,Et={computed:{isAuthenticated:function(){return this.$store.getters.isAuthenticated}},components:{LinkItems:ft,Settings:yt,Notifications:Rt}},St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{display:"inline-flex"}},[t.isAuthenticated?n("div",{staticClass:"hidden-sm-and-down"},[n("notifications"),t._v(" "),n("settings")],1):t._e(),t._v(" "),n("link-items")],1)},Ft=[],Nt={render:St,staticRenderFns:Ft},Mt=Nt,Vt=n("VU/8"),Pt=i,At=Vt(Et,Mt,!1,Pt,null,null),Ot=At.exports,Wt=this,qt={props:["activator"],computed:{user:function(){return this.$store.getters.user}},data:function(){return{nav:Wt.activator,items:[{title:"My books",icon:"account_box",link:{name:"user-books"}},{title:"Settings",icon:"settings",link:{name:"user-settings"}}]}},watch:{activator:function(){this.nav=!0}}},Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{fixed:"",app:"",clipped:"","disable-route-watcher":"","disable-resize-watcher":"",temporary:""},model:{value:t.nav,callback:function(e){t.nav=e},expression:"nav"}},[n("v-list",[n("v-list-tile",{staticClass:"text-xs-left pa-1"},[n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(t.user.userName))]),t._v(" "),n("v-list-tile-sub-title",[t._v(t._s(t.user.email))])],1)],1),t._v(" "),n("v-divider"),t._v(" "),t._l(t.items,function(e){return n("v-list-tile",{key:e.title,staticClass:"pt-0",attrs:{dense:"",to:e.link},on:{click:function(){return t.nav=!t.nav}}},[n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("\n          "+t._s(e.title)+"\n        ")])],1)],1)})],2)],1)},zt=[],Gt={render:Dt,staticRenderFns:zt},Ht=Gt,jt=n("VU/8"),Jt=c,Zt=jt(qt,Ht,!1,Jt,null,null),Qt=Zt.exports,Yt={name:"app-toolbar",data:function(){return{nav:!1}},components:{Search:rt,ToolbarItems:Ot,Navigation:Qt}},Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spacing"},[n("navigation",{attrs:{activator:t.nav}}),t._v(" "),n("v-toolbar",{attrs:{color:"primary",dark:"",fixed:"",app:"","clipped-left":""}},[n("v-toolbar-side-icon",{staticClass:"hidden-md-and-up",on:{click:function(e){e.stopPropagation(),t.nav=!t.nav}}}),t._v(" "),n("v-toolbar-title",{staticClass:"mr-5 hidden-sm-and-down"},[n("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:{name:"home"},tag:"span"}},[t._v("\n        CoolBook\n      ")])],1),t._v(" "),n("search"),t._v(" "),n("toolbar-items",{staticClass:"d-flex align-center",staticStyle:{"margin-left":"auto"}})],1)],1)},Xt=[],te={render:Kt,staticRenderFns:Xt},ee=te,ne=n("VU/8"),se=u,re=ne(Yt,ee,!1,se,"data-v-ed91801c",null),oe=re.exports,ae={name:"app",computed:{isLoading:function(){return this.$store.getters.isLoading("app")},isAutoSigning:function(){return this.$store.getters.isLoading("autoSigning")},route:function(){return this.$route.fullPath}},components:Z()({},oe.name,oe)},ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isAutoSigning?t._e():n("v-app",[n("app-toolbar"),t._v(" "),t.isLoading?n("v-progress-linear",{staticClass:"mt-0",attrs:{indeterminate:!0,height:"3"}}):t._e(),t._v(" "),n("router-view",{key:t.route,staticClass:"mt-3"})],1)},ce=[],ue={render:ie,staticRenderFns:ce},le=ue,de=n("VU/8"),me=l,fe=de(ae,le,!1,me,null,null),ve=fe.exports,he=n("/ocq"),pe={props:["books"]},ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.books?n("v-layout",[n("v-flex",{attrs:{xs10:"","offset-xs1":""}},[n("v-container",{attrs:{fluid:"","grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},t._l(t.books,function(e){return n("v-flex",{key:e.bookId,attrs:{md2:"",xs12:""}},[n("v-card",{attrs:{hover:"",to:"/books/"+e.bookId}},[n("v-container",[n("div",{staticStyle:{"max-width":"128px","max-height":"175px",margin:"auto"}},[n("v-card-media",{attrs:{src:e.thumbnail,height:"175px"}})],1)]),t._v(" "),n("v-list",[n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.title))])],1)],1)],1)],1)],1)}))],1)],1)],1):t._e()},_e=[],be={render:ge,staticRenderFns:_e},ke=be,xe=n("VU/8"),ye=d,we=xe(pe,ke,!1,ye,null,null),$e=we.exports,Le={computed:{books:function(){return this.$store.getters.books}},created:function(){this.$store.dispatch("fetchBooksByField")},components:{BooksShow:$e}},Be=function(){var t=this,e=t.$createElement;return(t._self._c||e)("books-show",{attrs:{books:t.books}})},Ie=[],Ce={render:Be,staticRenderFns:Ie},Ue=Ce,Te=n("VU/8"),Re=m,Ee=Te(Le,Ue,!1,Re,"data-v-72814a40",null),Se=Ee.exports,Fe={data:function(){return{form:"register",email:"",password:"",userName:"",gender:"",genderOptions:[{value:"female",text:"Female"},{value:"male",text:"Male"},{value:"other",text:"Other"}]}},computed:{isLoading:function(){return this.$store.getters.isLoading(this.form)}},methods:{signUp:function(){this.$store.dispatch("signUp",{data:{email:this.email,password:this.password,gender:this.gender,userName:this.userName},from:this.form}),this.$store.dispatch("startLoading",this.form)}}},Ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",[n("v-flex",{attrs:{xs12:"",md10:"","offset-md1":""}},[n("form",{on:{submit:function(e){e.preventDefault(),t.signUp(e)}}},[n("v-card-title",[n("h1",[t._v("Register")])]),t._v(" "),n("form-message",{attrs:{name:t.form}}),t._v(" "),n("v-card-text",[n("v-layout",{attrs:{column:t.$vuetify.breakpoint.xsOnly}},[n("v-flex",{attrs:{xs12:"",md5:""}},[n("v-text-field",{attrs:{label:"Email",placeholder:"you@example.com"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),n("v-text-field",{attrs:{placeholder:"Create a Password",label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-flex",{attrs:{xs12:"",md5:""}},[n("v-text-field",{attrs:{label:"Username",placeholder:"Pick a username"},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}}),t._v(" "),n("v-select",{attrs:{label:"Gender","persistent-hint":"",items:t.genderOptions},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}})],1)],1)],1),t._v(" "),n("v-flex",{attrs:{xs5:"","offset-xs3":""}},[n("v-btn",{attrs:{disabled:t.isLoading,color:"primary",block:"",type:"submit"}},[n("loading-circle",{attrs:{name:t.form,title:"Register"}})],1)],1)],1)])],1)],1)},Me=[],Ve={render:Ne,staticRenderFns:Me},Pe=Ve,Ae=n("VU/8"),Oe=f,We=Ae(Fe,Pe,!1,Oe,"data-v-2bbb376b",null),qe=We.exports,De={methods:{signIn:function(){this.$store.dispatch("signInWithSocialRedirect","google")}}},ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"normalcase",attrs:{color:"red",dark:""},on:{click:t.signIn}},[n("span",{staticClass:"g"},[t._v("g")]),t._v("\n  +\n  "),n("div",{staticClass:"divisor"}),t._v("\n  Sign in with Google\n")])},Ge=[],He={render:ze,staticRenderFns:Ge},je=He,Je=n("VU/8"),Ze=v,Qe=Je(De,je,!1,Ze,"data-v-5b7b974a",null),Ye=Qe.exports,Ke={computed:{isLoading:function(){return this.$store.getters.isLoading(this.form)}},data:function(){return{form:"login",email:"",password:""}},methods:{signIn:function(){this.$store.dispatch("signIn",{data:{email:this.email,password:this.password},from:this.form}),this.$store.dispatch("startLoading",this.form)}},components:{LoginGoogle:Ye}},Xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",[n("v-flex",[n("form",{on:{submit:function(e){e.preventDefault(),t.signIn(e)}}},[n("v-card-title",[n("div",{staticClass:"text-xs-left"},[n("h1",[t._v("Login")]),t._v(" "),n("p",{staticClass:"grey--text"},[t._v("Already have an account? Sign in here below!")])])]),t._v(" "),n("form-message",{attrs:{name:t.form}}),t._v(" "),n("v-card-text",[n("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),n("v-text-field",{attrs:{label:"password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),n("v-btn",{attrs:{disabled:t.isLoading,color:"primary",type:"submit"}},[n("loading-circle",{attrs:{name:t.form,title:"Login"}})],1)],1),t._v(" "),n("login-google")],1)],1)],1)},tn=[],en={render:Xe,staticRenderFns:tn},nn=en,sn=n("VU/8"),rn=h,on=sn(Ke,nn,!1,rn,"data-v-7c4e304b",null),an=on.exports,cn={computed:{isNotLoggedIn:function(){return!this.$store.getters.isAuthenticated||(this.$router.push({name:"home"}),!1)}},data:function(){return{}},components:{Register:qe,Login:an}},un=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isNotLoggedIn?n("v-container",[n("v-layout",[n("v-flex",{attrs:{xs12:"",md10:"","offset-md1":""}},[n("v-card",[n("v-layout",{attrs:{row:"",column:t.$vuetify.breakpoint.xsOnly}},[n("v-flex",{attrs:{lg8:"",xs12:""}},[n("register")],1),t._v(" "),n("div",{staticClass:"vdivisor"}),t._v(" "),n("v-flex",{attrs:{lg4:"",xs12:""}},[n("login")],1)],1)],1)],1)],1)],1):t._e()},ln=[],dn={render:un,staticRenderFns:ln},mn=dn,fn=n("VU/8"),vn=p,hn=fn(cn,mn,!1,vn,null,null),pn=hn.exports,gn={props:["code"],computed:{isAuthenticated:function(){return!this.$store.getters.isAuthenticated}},methods:{goToHome:function(){this.$router.push({name:"home"})}},created:function(){this.code||this.goToHome(),this.$store.dispatch("signInWithGoogle",this.code)}},_n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-dialog",{attrs:{fullscreen:"",overlay:!0,scrollable:""},model:{value:t.isAuthenticated,callback:function(e){t.isAuthenticated=e},expression:"isAuthenticated"}},[n("v-card",[n("h3",[t._v("Loading...")]),t._v(" "),t.isAuthenticated?t._e():n("div",[t._v(t._s(t.goToHome()))])])],1)],1)},bn=[],kn={render:_n,staticRenderFns:bn},xn=kn,yn=n("VU/8"),wn=g,$n=yn(gn,xn,!1,wn,null,null),Ln=$n.exports,Bn={},In=function(){var t=this,e=t.$createElement;return(t._self._c||e)("h1",[t._v("\n  PAGE NOT FOUND\n")])},Cn=[],Un={render:In,staticRenderFns:Cn},Tn=Un,Rn=n("VU/8"),En=_,Sn=Rn(Bn,Tn,!1,En,null,null),Fn=Sn.exports,Nn={data:function(){return{Items:[{title:"Overview",icon:"account_box",name:"overview"},{title:"Password",icon:"vpn_key",name:"password"},{title:"Email",icon:"email",name:"email"}]}},methods:{itemChoose:function(t){this.$emit("itemChoose",t)}}},Mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",[n("v-flex",[n("v-list",t._l(t.Items,function(e){return n("v-list-tile",{key:e.name,staticClass:"pt-0",attrs:{dense:""},on:{click:function(n){t.itemChoose(e.name)}}},[e.icon?n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.icon))])],1):t._e(),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("\r\n              "+t._s(e.title)+"\r\n            ")])],1)],1)}))],1)],1)],1)},Vn=[],Pn={render:Mn,staticRenderFns:Vn},An=Pn,On=n("VU/8"),Wn=b,qn=On(Nn,An,!1,Wn,null,null),Dn=qn.exports,zn={computed:{isEditing:function(){var t=this;return function(e){return t.editField===e}},user:function(){var t=this.$store.getters.user;return[{label:"User Name",value:t.userName,name:"userName",editable:!1},{label:"Email address",value:t.email,name:"email",editable:!1},{label:"City",value:t.city,name:"city",editable:!0},{label:"State",value:t.state,name:"state",editable:!0}]},isLoading:function(){var t=this;return function(e){return t.$store.getters.isLoading(e)}}},data:function(){return{editField:null}},methods:{edit:function(t,e){var n=this;return H()(z.a.mark(function s(){return z.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n.$store.dispatch("startLoading",t),s.next=3,n.$store.dispatch("updateUserData",{from:"overview",data:{property:t,data:e}});case 3:n.$store.dispatch("stopLoading",t),n.editField=null;case 5:case"end":return s.stop()}},s,n)}))()}}},Gn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user?n("v-container",[n("v-layout",[n("v-flex",{attrs:{md6:""}},[n("v-card",{staticClass:"pa-5"},[n("v-card-title",[n("div",{staticClass:"text-xs-left"},[n("h1",[t._v("Overview")])])]),t._v(" "),n("v-card-text",[n("v-divider"),t._v(" "),n("form",[n("form-message",{attrs:{name:"overview"}}),t._v(" "),t._l(t.user,function(e){return n("v-text-field",{key:e.value,class:t.isEditing(e.name)?"input-group--focused":"",attrs:{label:e.label,"append-icon":e.editable?"edit":"","append-icon-cb":function(){return t.editField=e.name},readonly:!t.isEditing(e.name),loading:!!t.isLoading(e.name)&&"green",autofocus:t.isEditing(e.name)},on:{keyup:function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key))return null;t.isEditing(e.name)&&t.edit(e.name,e.value)}},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})})],2)],1)],1)],1)],1)],1):t._e()},Hn=[],jn={render:Gn,staticRenderFns:Hn},Jn=jn,Zn=n("VU/8"),Qn=k,Yn=Zn(zn,Jn,!1,Qn,null,null),Kn=Yn.exports,Xn={computed:{isLoading:function(){return this.$store.getters.isLoading(this.form)}},data:function(){return{form:"changeEmail",newEmail:"",password:""}},methods:{changeEmail:function(){this.$store.dispatch("updateUserData",{data:{property:"email",data:{password:this.password,newEmail:this.newEmail}},from:this.form}),this.$store.dispatch("startLoading",this.form)}}},ts=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",[n("v-flex",{attrs:{md6:""}},[n("v-card",{staticClass:"pa-5"},[n("form",{on:{submit:function(e){e.preventDefault(),t.changeEmail(e)}}},[n("v-card-title",[n("div",{staticClass:"text-xs-left"},[n("h1",[t._v("Change Email")])])]),t._v(" "),n("v-divider"),t._v(" "),n("form-message",{attrs:{name:t.form}}),t._v(" "),n("v-card-text",[n("v-text-field",{staticClass:"mb-4",attrs:{label:"Current e-mail address",readonly:""},model:{value:t.$store.getters.user.email,callback:function(e){t.$set(t.$store.getters.user,"email",e)},expression:"$store.getters.user.email"}}),t._v(" "),n("v-text-field",{attrs:{label:"New e-mail address"},model:{value:t.newEmail,callback:function(e){t.newEmail=e},expression:"newEmail"}}),t._v(" "),n("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),n("v-btn",{attrs:{disabled:t.isLoading,type:"submit",color:"primary"}},[n("loading-circle",{attrs:{name:t.form,title:"Save"}})],1)],1)])],1)],1)],1)},es=[],ns={render:ts,staticRenderFns:es},ss=ns,rs=n("VU/8"),os=x,as=rs(Xn,ss,!1,os,null,null),is=as.exports,cs={computed:{isLoading:function(){return this.$store.getters.isLoading(this.form)}},data:function(){return{form:"changePassword",password:"",newPassword:"",confirmPassword:""}},methods:{changePassword:function(){this.$store.dispatch("updateUserData",{data:{property:"password",data:{password:this.password,newPassword:this.newPassword,confirmPassword:this.confirmPassword}},from:this.form}),this.$store.dispatch("startLoading",this.form)}}},us=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",[n("v-flex",{attrs:{md6:""}},[n("v-card",{staticClass:"pa-5"},[n("form",{on:{submit:function(e){e.preventDefault(),t.changePassword(e)}}},[n("v-card-title",[n("div",{staticClass:"text-xs-left"},[n("h1",[t._v("Change Password")])])]),t._v(" "),n("v-divider"),t._v(" "),n("form-message",{attrs:{name:t.form}}),t._v(" "),n("v-card-text",[n("v-text-field",{attrs:{label:"Current password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("v-text-field",{attrs:{label:"New password",type:"password"},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}}),t._v(" "),n("v-text-field",{attrs:{label:"Confirm password",type:"password"},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1),t._v(" "),n("v-btn",{attrs:{disabled:t.isLoading,type:"submit",color:"primary"}},[n("loading-circle",{attrs:{name:t.form,title:"Save"}})],1)],1)])],1)],1)],1)},ls=[],ds={render:us,staticRenderFns:ls},ms=ds,fs=n("VU/8"),vs=y,hs=fs(cs,ms,!1,vs,null,null),ps=hs.exports,gs={data:function(){return{menuItem:"overview"}},methods:{chosen:function(t){this.menuItem=t}},components:{MenuItems:Dn,Overview:Kn,ChangeEmail:is,ChangePassword:ps}},_s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{md3:""}},[n("menu-items",{on:{itemChoose:t.chosen}})],1),t._v(" "),n("v-flex",{attrs:{md8:""}},["overview"===t.menuItem?n("overview"):t._e(),t._v(" "),"email"===t.menuItem?n("change-email"):t._e(),t._v(" "),"password"===t.menuItem?n("change-password"):t._e()],1)],1)],1)},bs=[],ks={render:_s,staticRenderFns:bs},xs=ks,ys=n("VU/8"),ws=w,$s=ys(gs,xs,!1,ws,null,null),Ls=$s.exports,Bs={props:["name"],computed:{isLoading:function(){return this.$store.getters.isLoading(this.name)}}},Is=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-tabs-content",{attrs:{id:t.name}},[n("v-card",{attrs:{flat:""}},[t.isLoading?n("v-progress-circular",{staticClass:"mt-5",attrs:{indeterminate:"",color:"red",size:"100"}}):n("div",[t._t("default")],2)],1)],1)},Cs=[],Us={render:Is,staticRenderFns:Cs},Ts=Us,Rs=n("VU/8"),Es=$,Ss=Rs(Bs,Ts,!1,Es,null,null),Fs=Ss.exports,Ns={props:["name"],computed:{myBooks:function(){return this.$store.getters.myBooks}},components:{TabContent:Fs,BooksShow:$e}},Ms=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tab-content",{attrs:{name:t.name}},[n("books-show",{attrs:{books:t.myBooks}})],1)},Vs=[],Ps={render:Ms,staticRenderFns:Vs},As=Ps,Os=n("VU/8"),Ws=L,qs=Os(Ns,As,!1,Ws,null,null),Ds=qs.exports,zs={props:["name"],computed:{myWishList:function(){return this.$store.getters.myWishList}},components:{TabContent:Fs,BooksShow:$e}},Gs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tab-content",{attrs:{name:t.name}},[n("books-show",{attrs:{books:t.myWishList}})],1)},Hs=[],js={render:Gs,staticRenderFns:Hs},Js=js,Zs=n("VU/8"),Qs=B,Ys=Zs(zs,Js,!1,Qs,null,null),Ks=Ys.exports,Xs={props:["leftImage","rightImage"]},tr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",[n("v-flex",{staticClass:"text-xs-right",attrs:{xs6:""}},[n("img",{staticStyle:{width:"128px",height:"165px"},attrs:{src:t.leftImage}})]),t._v(" "),n("v-icon",{staticClass:"ma-3",attrs:{large:"",color:"orange darken-2"}},[t._v("compare_arrows")]),t._v(" "),n("v-flex",{staticClass:"text-xs-left",attrs:{xs6:""}},[n("img",{staticStyle:{width:"128px",height:"165px"},attrs:{src:t.rightImage}})])],1)},er=[],nr={render:tr,staticRenderFns:er},sr=nr,rr=n("VU/8"),or=I,ar=rr(Xs,sr,!1,or,null,null),ir=ar.exports,cr={props:["trade"],components:{BookImage:ir}},ur=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{md3:"",xs12:""}},[n("v-card",{staticClass:"pa-2"},[n("book-image",{attrs:{rightImage:t.trade.book.thumbnail,leftImage:t.trade.bookTarget.thumbnail}}),t._v(" "),t._t("default")],2)],1)},lr=[],dr={render:ur,staticRenderFns:lr},mr=dr,fr=n("VU/8"),vr=C,hr=fr(cr,mr,!1,vr,"data-v-69715fff",null),pr=hr.exports,gr={props:["name"],computed:{tradesPending:function(){return this.$store.getters.tradesPending},user:function(){return this.$store.getters.user.userName}},methods:{answer:function(t,e){var n=this;return H()(z.a.mark(function s(){return z.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n.$store.dispatch("startLoading",n.name),s.next=3,n.$store.dispatch("tradeAnswer",{id:t,answer:e});case 3:n.$store.dispatch("stopLoading",n.name);case 4:case"end":return s.stop()}},s,n)}))()}},components:{BooksTrade:pr,TabContent:Fs}},_r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tab-content",{attrs:{name:t.name}},[n("v-container",{attrs:{fluid:"","grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},t._l(t.tradesPending,function(e){return n("books-trade",{key:e._id,attrs:{trade:e}},[n("v-card-title",{attrs:{"primary-title":""}},[n("div",{staticClass:"text-xs-left",staticStyle:{"max-width":"100%"}},[n("p",{staticClass:"ma-0 text"},[n("span",{staticStyle:{"font-weight":"600","font-size":"17px"}},[t._v(t._s(e.user))]),t._v(" want to trade his\n                "),n("a",{attrs:{href:"books/"+e.book.bookId}},[t._v(t._s(e.book.title))])]),t._v(" "),n("p",{staticClass:"ma-0 text"},[t._v("to yours\n                "),n("a",{attrs:{href:"books/"+e.bookTarget.bookId}},[t._v(t._s(e.bookTarget.title))])])])]),t._v(" "),n("v-card-actions",[t.user===e.user?n("div",[n("v-btn",{attrs:{outline:"",color:"red"},on:{click:function(n){t.answer(e._id,"cancel")}}},[t._v("cancel")])],1):n("div",[n("v-btn",{attrs:{outline:"",color:"green"},on:{click:function(n){t.answer(e._id,"accept")}}},[t._v("accept")]),t._v(" "),n("v-btn",{attrs:{outline:"",color:"red"},on:{click:function(n){t.answer(e._id,"reject")}}},[t._v("decline")])],1)])],1)}))],1)],1)},br=[],kr={render:_r,staticRenderFns:br},xr=kr,yr=n("VU/8"),wr=U,$r=yr(gr,xr,!1,wr,"data-v-105226b3",null),Lr=$r.exports,Br={props:["name"],computed:{tradesResolved:function(){return this.$store.getters.trades}},components:{BooksTrade:pr,TabContent:Fs}},Ir=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tab-content",{attrs:{name:t.name}},[n("v-container",{attrs:{fluid:"","grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},t._l(t.tradesResolved,function(e){return n("books-trade",{key:e._id,attrs:{trade:e}},[n("v-card-text",{staticClass:"text-xs-left"},[n("p",[t._v(" requested by: "),n("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.user))])]),t._v(" "),n("p",[t._v("to: "),n("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.userTarget))])]),t._v(" "),n("p",[t._v(" status: "),n("span",{class:("accept"===e.status?"green":"red")+"--text"},[t._v(t._s(e.status))])])])],1)}))],1)],1)},Cr=[],Ur={render:Ir,staticRenderFns:Cr},Tr=Ur,Rr=n("VU/8"),Er=T,Sr=Rr(Br,Tr,!1,Er,null,null),Fr=Sr.exports,Nr={computed:{tabs:function(){return[{name:"My Books"},{name:"My Wish List"},{name:"My Pending Trades"},{name:"My Trades"}]}},data:function(){return{active:null}},methods:{fetch:function(t,e){var n=this;return H()(z.a.mark(function s(){return z.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n.$store.dispatch("startLoading",n.active),s.next=3,n.$store.dispatch(t,e);case 3:n.$store.dispatch("stopLoading",n.active);case 4:case"end":return s.stop()}},s,n)}))()}},watch:{active:function(){switch(this.active){case"My Books":this.fetch("myBooks");break;case"My Wish List":this.fetch("myWishList");break;case"My Pending Trades":case"My Trades":this.fetch("getTrades")}}},created:function(){var t=this.$route.query.tab;this.active=t},components:{PendingTrades:Lr,MyBooks:Ds,WishList:Ks,ResolvedTrades:Fr}},Mr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-tabs",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("v-tabs-bar",{attrs:{color:"blue",dark:""}},[t._l(t.tabs,function(e){return n("v-tabs-item",{key:e.name,attrs:{href:"#"+e.name,ripple:""}},[n("h4",{staticStyle:{"text-transform":"none"}},[t._v(t._s(e.name))])])}),t._v(" "),n("v-tabs-slider",{attrs:{color:"yellow"}})],2),t._v(" "),n("v-tabs-items",[n("my-books",{attrs:{name:"My Books"}}),t._v(" "),n("wish-list",{attrs:{name:"My Wish List"}}),t._v(" "),n("pending-trades",{attrs:{name:"My Pending Trades"}}),t._v(" "),n("resolved-trades",{attrs:{name:"My Trades"}})],1)],1)],1)},Vr=[],Pr={render:Mr,staticRenderFns:Vr},Ar=Pr,Or=n("VU/8"),Wr=R,qr=Or(Nr,Ar,!1,Wr,null,null),Dr=qr.exports,zr={},Gr=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},Hr=[],jr={render:Gr,staticRenderFns:Hr},Jr=jr,Zr=n("VU/8"),Qr=E,Yr=Zr(zr,Jr,!1,Qr,"data-v-55ebcdf0",null),Kr=Yr.exports,Xr={props:["name","book","color","icon"],computed:{count:function(){return this.book[this.name+"Count"]},showBadge:function(){return this.count>0},isBookmarked:function(){return!(!Array.isArray(this.book[this.name])||!this.$store.getters.isAuthenticated)&&this.book[this.name].includes(this.$store.getters.user.userName)},isLoading:function(){return this.$store.getters.isLoading("bookAction")}},data:function(){return{show:!1}},methods:{register:function(){var t=this;return H()(z.a.mark(function e(){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.dispatch("startLoading","bookAction"),e.next=3,t.$store.dispatch("registerUserBook",{type:t.name,bookId:t.book.bookId});case 3:t.$store.dispatch("stopLoading","bookAction");case 4:case"end":return e.stop()}},e,t)}))()}},components:{NotificationDialog:Kr}},to=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mr-4"},[n("v-tooltip",{attrs:{top:""}},[n("v-badge",{attrs:{slot:"activator",right:""},slot:"activator",model:{value:t.showBadge,callback:function(e){t.showBadge=e},expression:"showBadge"}},[n("span",{attrs:{slot:"badge"},slot:"badge"},[t._v(t._s(t.count))]),t._v(" "),n("v-btn",{staticClass:"ma-0",attrs:{disabled:t.isLoading,icon:""},on:{click:t.register}},[n("v-icon",{attrs:{large:"",color:t.color,disabled:!t.isBookmarked}},[t._v(t._s(this.icon))])],1)],1),t._v(" "),n("span",[t._v("add to your "+t._s("ownedBy"===this.name?"books":"wish list"))])],1)],1)},eo=[],no={render:to,staticRenderFns:eo},so=no,ro=n("VU/8"),oo=S,ao=ro(Xr,so,!1,oo,null,null),io=ao.exports,co={props:["bookId"],computed:{matchedUsers:function(){return this.$store.getters.matchedUsers},isLoading:function(){return this.$store.getters.isLoading("matchUsers")}},methods:{getMatchUsers:function(){var t=this;return H()(z.a.mark(function e(){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.dispatch("startLoading","matchUsers"),e.next=3,t.$store.dispatch("getMatchUsers",t.bookId);case 3:t.$store.dispatch("stopLoading","matchUsers");case 4:case"end":return e.stop()}},e,t)}))()}}},uo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-xs-center"},[n("v-menu",{attrs:{top:"","offset-y":""}},[n("v-btn",{attrs:{slot:"activator",outline:"",color:"indigo"},on:{click:t.getMatchUsers},slot:"activator"},[t._v("People that you can trade with")]),t._v(" "),!t.isLoading&&t.matchedUsers&&t.matchedUsers.length>0?n("v-list",t._l(t.matchedUsers,function(e,s){return n("v-list-tile",{key:s,attrs:{to:{name:"trade",params:{user:e},query:{book:t.bookId}}}},[n("v-list-tile-title",[t._v(t._s(e))])],1)})):n("v-list",[n("v-list-tile",[t.isLoading?n("v-list-tile-title",{staticClass:"text-xs-center"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):n("v-list-tile-title",{staticClass:"text-xs-center"},[t._v(" Sorry, no match for you today !")])],1)],1)],1)],1)},lo=[],mo={render:uo,staticRenderFns:lo},fo=mo,vo=n("VU/8"),ho=F,po=vo(co,fo,!1,ho,null,null),go=po.exports,_o={computed:{book:function(){return this.$store.getters.bookById(this.$route.params.id)},isLoading:function(){return this.$store.getters.isLoading("app")}},data:function(){return{show:!1}},created:function(){var t=this;return H()(z.a.mark(function e(){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.book){e.next=5;break}return t.$store.dispatch("startLoading","app"),e.next=4,t.$store.dispatch("fetchBookById",t.$route.params.id);case 4:t.$store.dispatch("stopLoading","app");case 5:case"end":return e.stop()}},e,t)}))()},components:{Action:io,MatchUsers:go}},bo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.book&&!t.isLoading?n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-card",[n("v-container",{staticClass:"elevation-8"},[n("v-flex",[n("img",{staticStyle:{width:"300px",height:"411px"},attrs:{src:t.book.url_image}})]),t._v(" "),n("v-container",[n("v-divider")],1),t._v(" "),n("v-layout",[n("v-flex",[n("v-card-title",[n("div",{staticClass:"text-xs-left"},[n("div",{staticClass:"headline"},[t._v(t._s(t.book.title))]),t._v(" "),n("p",{staticClass:"grey--text"},[t._v(" Author: "+t._s(t.book.author))]),t._v(" "),n("p",{staticClass:"grey--text"},[t._v(" Publisher: "+t._s(t.book.publisher))]),t._v(" "),n("p",{staticClass:"grey--text"},[t._v(" Published on: "+t._s(t.book.publishedDate))])])])],1),t._v(" "),n("v-flex",{staticClass:"mt-5"},[n("v-card-actions",[n("v-spacer"),t._v(" "),n("dialog-message",{attrs:{name:"register"}}),t._v(" "),n("action",{attrs:{icon:"favorite",name:"requestedBy",color:"red",book:this.book}}),t._v(" "),n("action",{attrs:{icon:"turned_in",name:"ownedBy",color:"green",book:this.book}})],1)],1)],1),t._v(" "),n("match-users",{attrs:{bookId:t.book.bookId}}),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.show=!t.show}}},[n("v-icon",[t._v(t._s(t.show?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)],1),t._v(" "),n("v-slide-y-transition",[n("v-card-text",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"text-xs-left",domProps:{innerHTML:t._s(t.book.description)}})],1)],1)],1)],1)],1):t._e()},ko=[],xo={render:bo,staticRenderFns:ko},yo=xo,wo=n("VU/8"),$o=N,Lo=wo(_o,yo,!1,$o,"data-v-72afb2b5",null),Bo=Lo.exports,Io={props:["search"],computed:{books:function(){return this.$store.state.book.foundBooks}},created:function(){var t=this;return H()(z.a.mark(function e(){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.books){e.next=5;break}return t.$store.dispatch("startLoading","app"),e.next=4,t.$store.dispatch("searchBooks",t.search);case 4:t.$store.dispatch("stopLoading","app");case 5:case"end":return e.stop()}},e,t)}))()}},Co=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{column:""}},[n("v-flex",{attrs:{xs12:"",md6:"","offset-md3":""}},[n("form-message",{attrs:{name:"search"}}),t._v(" "),t._l(t.books,function(e){return e?n("v-card",{key:e.bookId,staticClass:"mb-2",attrs:{to:"/books/"+e.bookId}},[n("v-layout",{staticClass:"pr-1",attrs:{row:""}},[n("v-flex",{attrs:{xs3:"",md2:""}},[n("v-card-media",{attrs:{src:e.thumbnail,height:"165",contain:""}})],1),t._v(" "),n("v-flex",{staticClass:"text-xs-left ml-2",attrs:{xs10:""}},[n("v-list",{attrs:{"three-line":""}},[n("v-list-tile-content",[n("h3",[t._v(t._s(e.title))]),t._v(" "),n("v-list-tile-sub-title",{staticClass:"grey--text text--darken-1"},[n("span",[t._v(t._s(e.author))]),t._v(" "),n("span",[t._v(t._s(e.publishedYear))]),t._v(" "),n("span",[t._v(t._s("( "+e.publisher+")"))])]),t._v(" "),n("v-container",{staticClass:"pt-2 pb-2"},[n("v-divider")],1),t._v(" "),n("v-list-tile-sub-title",[t._v("\n                  "+t._s(e.description)+"\n                ")])],1)],1)],1)],1)],1):t._e()})],2)],1)},Uo=[],To={render:Co,staticRenderFns:Uo},Ro=To,Eo=n("VU/8"),So=M,Fo=Eo(Io,Ro,!1,So,null,null),No=Fo.exports,Mo={props:["books","label","ownedBy","requestedBy","commitName"],data:function(){return{element:null}},computed:{},watch:{element:function(){this.$emit("onSelectValue",this.element)}},created:function(){var t=this;return H()(z.a.mark(function e(){var n;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchBooksByField",{commitName:t.commitName,filters:{ownedBy:t.ownedBy,requestedBy:t.requestedBy}});case 2:n=t.books.find(function(e){return e.bookId===t.$route.query.book}),n&&(t.element=n);case 4:case"end":return e.stop()}},e,t)}))()}},Vo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-select",{attrs:{label:t.label,items:t.books,"item-text":"title",chips:"","max-height":"auto",autocomplete:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[n("v-chip",{key:JSON.stringify(e.item.title),staticClass:"chip--select",attrs:{selected:e.selected},on:{input:function(t){e.parent.selectItem(e.item)}}},[n("v-avatar",[n("img",{attrs:{src:e.item.thumbnail}})]),t._v("\n        "+t._s(e.item.title)+"\n      ")],1)]}},{key:"item",fn:function(e){return["object"!=typeof e.item?[n("v-list-tile-content",{domProps:{textContent:t._s(e.item)}})]:[n("v-list-tile-avatar",[n("img",{attrs:{src:e.item.thumbnail}})]),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:t._s(e.item.title)}}),t._v(" "),n("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e.item.author+" - "+e.item.publishedYear)}})],1)]]}}]),model:{value:t.element,callback:function(e){t.element=e},expression:"element"}})],1)},Po=[],Ao={render:Vo,staticRenderFns:Po},Oo=Ao,Wo=n("VU/8"),qo=V,Do=Wo(Mo,Oo,!1,qo,null,null),zo=Do.exports,Go={computed:{toReceive:function(){return this.$store.getters.tradeToReceive},toOffer:function(){return this.$store.getters.tradeToOffer},isEnableToTrade:function(){return this.toOfferItem&&this.toReceiveItem},thumbnail:function(){return function(t){return t?t.thumbnail:null}},user:function(){return this.$store.getters.user.userName},userParam:function(){return this.$route.params.user}},data:function(){return{toOfferItem:null,toReceiveItem:null}},methods:{trade:function(){var t=this;return H()(z.a.mark(function e(){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isEnableToTrade){e.next=2;break}return e.abrupt("return");case 2:return t.$store.dispatch("startLoading","trade_request"),e.next=5,t.$store.dispatch("tradeRequest",{bookId:t.toOfferItem.bookId,bookIdTarget:t.toReceiveItem.bookId,userTarget:t.$route.params.user});case 5:t.$store.dispatch("stopLoading","trade_request");case 6:case"end":return e.stop()}},e,t)}))()},setToOfferItem:function(t){this.toOfferItem=t},setToReceiveItem:function(t){this.toReceiveItem=t}},components:{BookSelect:zo,BookImage:ir}},Ho=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{column:""}},[n("v-flex",{attrs:{xs12:"",md6:"","offset-md3":""}},[n("v-card",[n("v-container",{attrs:{fluid:""}},[n("book-image",{attrs:{leftImage:t.thumbnail(t.toOfferItem),rightImage:t.thumbnail(t.toReceiveItem)}}),t._v(" "),n("v-layout",{attrs:{column:t.$vuetify.breakpoint.xsOnly}},[n("v-flex",{attrs:{xs12:"",md6:""}},[t.toReceive?n("book-select",{attrs:{books:t.toReceive,label:"select what you want to receive",ownedBy:t.userParam,requestedBy:t.user,commitName:"setTradeToReceive"},on:{onSelectValue:t.setToOfferItem}}):t._e()],1),t._v(" "),n("v-flex",{attrs:{xs12:"",md6:""}},[t.toOffer?n("book-select",{attrs:{books:t.toOffer,label:"select what you going to give",ownedBy:t.user,requestedBy:t.userParam,commitName:"setTradeToOffer"},on:{onSelectValue:t.setToReceiveItem}}):t._e()],1)],1),t._v(" "),n("v-btn",{staticStyle:{"font-weight":"bold"},attrs:{disabled:!t.isEnableToTrade,color:"primary",large:""},on:{click:t.trade}},[n("loading-circle",{attrs:{name:"trade_request",title:"send the request"}})],1),t._v(" "),n("dialog-message",{attrs:{name:"tradeAnswer"}})],1)],1)],1)],1)},jo=[],Jo={render:Ho,staticRenderFns:jo},Zo=Jo,Qo=n("VU/8"),Yo=P,Ko=Qo(Go,Zo,!1,Yo,null,null),Xo=Ko.exports,ta={data:function(){return{show:!0,techStack:[{name:"Back End",data:["Nodejs","Express","MongoDB"]},{name:"Front End",data:["Vue","Vuex","Vuetify"]},{name:"Authentication",data:["JWT","Passwort.js"]},{name:"APIs",data:["Google Books Api"]}]}},watch:{show:function(){!1===this.show&&this.$router.push("/")}}},ea=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",[n("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("Book Trading")])]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",[n("v-container",{staticClass:"text-xs-left"},[n("h2",[t._v("About the project")]),t._v(" "),n("v-layout",[n("v-flex",[n("p",[t._v("\n                This project was developed as a \n                "),n("a",{attrs:{href:"https://www.freecodecamp.org/challenges/manage-a-book-trading-club"}},[t._v("challenge")]),t._v(" of \n                "),n("a",{attrs:{href:"https://www.freecodecamp.org/"}},[t._v("freecodecamp")]),t._v(" \n                with the purpose of improving and developing skills by building a full stack web app.\n              ")]),t._v(" "),n("p",[t._v("\n                The project should follow this specific \n                "),n("a",{attrs:{href:"https://en.wikipedia.org/wiki/User_story"}},[t._v("User Stories: ")])]),t._v(" "),n("ul",{staticClass:"ml-4 mt-1"},[n("li",[t._v("I can view all books posted by every user.")]),t._v(" "),n("li",[t._v("I can add a new book.")]),t._v(" "),n("li",[t._v("I can update my settings to store my full name, city, and state.")]),t._v(" "),n("li",[t._v("I can propose a trade and wait for the other user to accept the trade.")])])])],1),t._v(" "),n("v-divider",{staticClass:"mt-4 mb-4"}),t._v(" "),n("v-container",{staticClass:"pb-4",staticStyle:{border:"1px solid rgba(0, 0, 0, 0.2)","border-radius":"10px"}},[n("h2",{staticClass:"text-xs-center mb-2"},[t._v("Technology Stack")]),t._v(" "),n("v-layout",{attrs:{wrap:""}},t._l(t.techStack,function(e){return n("v-flex",{key:e.name,attrs:{xs6:""}},[n("h3",{staticClass:"text-xs-center mt-3"},[t._v(t._s(e.name))]),t._v(" "),n("ul",t._l(e.data,function(e,s){return n("li",{key:s,staticClass:"test"},[t._v(t._s(e))])}))])}))],1),t._v(" "),n("v-divider",{staticClass:"mt-4 mb-4"}),t._v(" "),n("h3",[t._v("Source Corde @"),n("a",[t._v(" GibHub")])]),t._v(" "),n("div",{staticClass:"text-xs-right",staticStyle:{"font-size":"12px"}},[n("span",{staticClass:"grey--text"},[t._v("Alberto Florence @ 2017")])])],1)],1)],1)],1)],1)},na=[],sa={render:ea,staticRenderFns:na},ra=sa,oa=n("VU/8"),aa=A,ia=oa(ta,ra,!1,aa,null,null),ca=ia.exports,ua=n("NYxO"),la=n("//Fk"),da=n.n(la),ma=n("mvHQ"),fa=n.n(ma),va=n("mtWM"),ha=n.n(va),pa=ha.a.create({baseURL:"https://padraoserver.herokuapp.com"});pa.interceptors.response.use(function(t){return da.a.resolve(t.data)},function(t){return 401===t.response.status?void(window.location.pathname="/login"):da.a.reject(t)});var ga=this,_a=function(t){pa.defaults.headers.common.Authorization="Bearer "+t},ba=function(t){var e=t.user,n=t.token;return n&&(localStorage.setItem("authentication:authUser",fa()({token:n})),_a(n)),e},ka=function(){var t=H()(z.a.mark(function t(){var e,n;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(e=JSON.parse(localStorage.getItem("authentication:authUser")))){t.next=8;break}if(!(n=e.token)){t.next=8;break}return t.next=7,ya({token:n});case 7:return t.abrupt("return",t.sent);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),da.a.reject(t.t0);case 13:case"end":return t.stop()}},t,ga,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),xa=function(){return _a(null),localStorage.removeItem("authentication:authUser"),da.a.resolve()},ya=function(t){return pa.post("auth/signin/token",t).then(ba)},wa={signIn:function(t){return pa.post("auth/signin",t).then(ba)},signUp:function(t){return pa.post("auth/signup",t).then(ba)},getSignInUrl:function(t){return pa.get("auth/url/"+t)},signInWithGoogle:function(t){return pa.post("auth/signin/google",{code:t}).then(ba)},signInWithToken:ya,autoSignIn:ka,signOut:xa},$a={updateUser:function(t,e){return pa.put("users",{property:t,data:e})}},La={get:function(t){return pa.get("/books",{params:t})},register:function(t){return pa.post("/books/register",t)},getById:function(t){return pa.get("books/"+t)},getMatchUsers:function(t){return pa.get("books/match/users/"+t)}},Ba={get:function(){return pa.get("/notifications")},seen:function(t){return pa.put("/notifications/"+t,{seen:!0})},delete:function(t){return pa.delete("/notifications/"+t)}},Ia={create:function(t){return pa.post("trades",t)},getOne:function(t){return pa.get("trades:"+t)},get:function(t){return pa.get("trades",{params:t})},answer:function(t){var e=t.id,n=t.answer;return pa.post("trades/answer/"+e,{answer:n})}},Ca={auth:wa,user:$a,book:La,notification:Ba,trade:Ia},Ua=function(t){var e=t.from,n=t.data;Ga.dispatch("messageError",{message:n.message||n.message||n,from:e})},Ta=function(t){var e=t.from,n=t.data;Ga.dispatch("messageError",{message:n.message||n.message||n,from:e})},Ra=function(t){var e=t.from,n=t.data;Ga.dispatch("messageError",{message:n.message||n.message||n,from:e})},Ea=function(t){return function(e){var n=e.response;if(n.status){var s={data:n.data,from:t};switch(n.status){case 404:Ua(s);break;case 400:Ta(s);break;default:Ra(s)}Ga.dispatch("stopLoading",t)}}},Sa=function(t,e){return function(n){if(!n)return null;Ga.dispatch("stopLoading",t),n.message&&Ga.dispatch("messageSuccess",{from:t,message:n.message}),e&&Ga.dispatch(e,n.data||n)}},Fa={state:{user:null},mutations:{setUser:function(t,e){t.user=e},setUserProperty:function(t,e){var n=e.property,s=e.data;t.user[n]=s}},actions:{setUser:function(t,e){return(0,t.commit)("setUser",e)},setUserProperty:function(t,e){return(0,t.commit)("setUserProperty",e)},signIn:function(t,e){var n=(t.commit,e.data),s=e.from;return Ca.auth.signIn(n).then(Sa(s,"setUser")).catch(Ea(s))},signUp:function(t,e){var n=(t.commit,e.data),s=e.from;return Ca.auth.signUp(n).then(Sa(s,"setUser")).catch(Ea(s))},signinWithToken:function(t,e){t.commit,e.data,e.from;return Ca.auth.signInWithToken().then().catch()},signOut:function(t){var e=t.commit;return Ca.auth.signOut().then(e("setUser",null))},signInWithSocialRedirect:function(t,e){t.commit;return Ca.auth.getSignInUrl(e).then(function(t){t&&(window.location.href=t.data)})},signInWithGoogle:function(t,e){var n=t.commit;return Ca.auth.signInWithGoogle(e).then(function(t){return n("setUser",t.data)})},updateUserData:function(t,e){var n=(t.commit,e.from),s=e.data;return Ca.user.updateUser(s.property,s.data).then(Sa(n,"setUserProperty")).catch(Ea(n))}},getters:{isAuthenticated:function(t){return!!t.user},user:function(t){return t.user}}},Na={state:{isLoading:[]},mutations:{startLoading:function(t,e){t.isLoading.push(e)},stopLoading:function(t,e){t.isLoading=t.isLoading.filter(function(t){return t!==e})}},actions:{startLoading:function(t,e){return(0,t.commit)("startLoading",e)},stopLoading:function(t,e){return(0,t.commit)("stopLoading",e)}},getters:{isLoading:function(t){return function(e){return t.isLoading.includes(e)}}}},Ma=n("Dd8w"),Va=n.n(Ma),Pa={state:{message:null,messageFrom:null,messageType:null},mutations:{setMessage:function(t,e){t.message=e.message,t.messageFrom=e.from,t.messageType=e.type},clearMessages:function(t){t.message=null,t.messageFrom=null,t.messageType=null}},actions:{clearMessages:function(t){return(0,t.commit)("clearMessages")},messageSuccess:function(t,e){return(0,t.commit)("setMessage",Va()({},e,{type:"success"}))},messageError:function(t,e){return(0,t.commit)("setMessage",Va()({},e,{type:"error"}))}},getters:{message:function(t){return t.message},messageFrom:function(t){return t.messageFrom},messageType:function(t){return t.messageType}}},Aa={state:{loadedBooks:{},foundBooks:[],myWishList:[],myBooks:[],tradeToReceive:[],tradeToOffer:[],matchedUsers:[]},mutations:{addBook:function(t,e){t.loadedBooks=Va()({},t.loadedBooks,Z()({},e.bookId,e))},addManyBooks:function(t,e){t.loadedBooks=Va()({},t.loadedBooks,e)},setFoundBooks:function(t,e){t.foundBooks=e},setTradeToReceive:function(t,e){t.tradeToReceive=e},setMyBooks:function(t,e){t.myBooks=e},setTradeToOffer:function(t,e){t.tradeToOffer=e},setMyWishList:function(t,e){t.myWishList=e},setMatchedUsers:function(t,e){t.matchedUsers=e}},actions:{fetchBookById:function(t,e){var n=t.commit;return Ca.book.getById(e).then(function(t){return n("addBook",t)}).catch(function(t){return console.log(t)})},fetchBooksByManyIds:function(t,e){var n=t.commit,s=t.getters,r=t.dispatch,o=e.filter(function(t){return!s.bookById(t)});return 1===o.length?r("fetchBookById",o):o.length>1?Ca.book.get({bookId:"$in:"+o.join(",")}).then(function(t){return t.map(function(t){return n("addBook",t)})}):null},registerUserBook:function(t,e){var n=(t.commit,t.dispatch);t.getters;return Ca.book.register(e).then(function(){return n("fetchBookById",e.bookId)}).catch(Ea("register"))},searchBooks:function(t,e){var n=t.commit,s=t.dispatch;return Ca.book.get({q:e}).then(function(t){return n("setFoundBooks",t)}).then(function(){return s("clearMessages")}).catch(Ea("search"))},getMatchUsers:function(t,e){var n=t.commit;return Ca.book.getMatchUsers(e).then(function(t){return n("setMatchedUsers",t)})},fetchBooksByField:function(t){var e=t.commit,n=(t.getters,t.dispatch,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),s=n.commitName,r=n.filters;return Ca.book.get(r).then(function(t){if(t&&!(t.length<1)){var n={},r=t.map(function(t){return n[t.bookId]=t,t.bookId});e("addManyBooks",n),s&&e(s,r)}})},myBooks:function(t){return(0,t.dispatch)("fetchBooksByField",{commitName:"setMyBooks",filters:{ownedBy:t.getters.user.userName}})},myWishList:function(t){return(0,t.dispatch)("fetchBooksByField",{commitName:"setMyWishList",filters:{requestedBy:t.getters.user.userName}})}},getters:{books:function(t){return t.loadedBooks},bookById:function(t){var e=t.loadedBooks;return function(t){return e[t]}},myBooks:function(t){var e=t.loadedBooks;return t.myBooks.map(function(t){return e[t]})},myWishList:function(t){var e=t.loadedBooks;return t.myWishList.map(function(t){return e[t]})},tradeToReceive:function(t){var e=t.loadedBooks;return t.tradeToReceive.map(function(t){return e[t]})},tradeToOffer:function(t){var e=t.loadedBooks;return t.tradeToOffer.map(function(t){return e[t]})},matchedUsers:function(t){return t.matchedUsers}}},Oa={state:{notifications:null},mutations:{setNotifications:function(t,e){t.notifications=e}},actions:{getNotifications:function(t){var e=t.commit;return Ca.notification.get().then(function(t){return e("setNotifications",t)}).catch(function(t){return console.log(t)})},notificationSeen:function(t,e){t.commit;return Ca.notification.seen(e)},deleteNotification:function(t,e){t.commit;return Ca.notification.delete(e)}},getters:{notifications:function(t){return t.notifications},notSeenCount:function(t){var e=t.notifications;return e?e.filter(function(t){return!t.seen}).length:0}}},Wa=n("+6Bu"),qa=n.n(Wa),Da=this,za={state:{trades:[]},mutations:{setTrades:function(t,e){t.trades=e}},actions:{tradeRequest:function(t,e){t.commit;return Ca.trade.create(e).then(Sa("tradeAnswer","getTrades")).catch(Ea("tradeAnswer"))},getTrades:function(t,e){var n=t.commit,s=t.dispatch;t.getters;return Ca.trade.get(e).then(function(){var t=H()(z.a.mark(function t(e){return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s("fetchBooksByManyIds",e.reduce(function(t,e){return t.concat(e.bookId,e.bookIdTarget)},[]));case 2:n("setTrades",e);case 3:case"end":return t.stop()}},t,Da)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){return console.log(t)})},tradeAnswer:function(t,e){t.commit,t.dispatch;return Ca.trade.answer(e).then(Sa("tradeAnswer","getTrades")).catch(Ea("tradeAnswer"))}},getters:{embedBookToTrade:function(t,e){var n=e.books;return function(t){var e=t.bookId,s=t.bookIdTarget,r=qa()(t,["bookId","bookIdTarget"]);return Va()({bookTarget:n[s],book:n[e]},r)}},tradesPending:function(t,e){var n=t.trades,s=e.embedBookToTrade;e.user;return n.filter(function(t){return"pending"===t.status}).map(s)},trades:function(t,e){var n=t.trades,s=e.embedBookToTrade;return n.map(s)}}};j.a.use(ua.a);var Ga=new ua.a.Store({modules:{user:Fa,loading:Na,message:Pa,book:Aa,notification:Oa,trade:za}}),Ha=function(t,e,n){return Ga.getters.isAuthenticated?"auth"===t.name?n({name:"home"}):n():"auth"===t.name?n():void n({name:"home"})};j.a.use(he.a);var ja=new he.a({routes:[{path:"/",name:"home",component:Se},{path:"/login",name:"auth",component:pn,beforeEnter:Ha},{path:"/user/settings",name:"user-settings",component:Ls,beforeEnter:Ha},{path:"/user/books",name:"user-books",component:Dr},{path:"/auth/authcallback",name:"authcallback",props:function(t){return{code:t.query.code}},component:Ln},{path:"/results",name:"books-result",props:function(t){return{search:t.query.search}},component:No},{path:"/books/:id",name:"book-details",component:Bo},{path:"/trade/:user",props:function(t){return{book:t.query.bookId}},name:"trade",component:Xo},{path:"/about",name:"about",component:ca},{path:"*",name:"notfound",component:Fn}],mode:"history"}),Ja=n("3EgV"),Za=n.n(Ja),Qa=(n("7zck"),{name:"loading-circle",props:["title","name","type"],computed:{isLoading:function(){return this.$store.getters.isLoading(this.name)}}}),Ya=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoading?n("v-progress-circular",{attrs:{indeterminate:""}}):n("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.title))])],1)},Ka=[],Xa={render:Ya,staticRenderFns:Ka},ti=Xa,ei=n("VU/8"),ni=O,si=ei(Qa,ti,!1,ni,null,null),ri=si.exports,oi={name:"form-message",props:["name"],computed:{message:function(){return this.$store.getters.message},shouldRender:function(){return this.$store.getters.messageFrom===this.name},messageType:function(){return this.$store.getters.messageType},icon:function(){return this.icons[this.messageType]},color:function(){return this.colors[this.messageType]}},data:function(){return{colors:{error:"error",success:"success"},icons:{error:"warning",success:"check_circle"}}},destroyed:function(){this.$store.dispatch("clearMessages")}},ai=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-alert",{attrs:{transition:"scale-transition",outline:"",color:t.color,icon:t.icon,value:t.shouldRender}},[t._v("\n    "+t._s(t.message)+"\n  ")])],1)},ii=[],ci={render:ai,staticRenderFns:ii},ui=ci,li=n("VU/8"),di=W,mi=li(oi,ui,!1,di,null,null),fi=mi.exports,vi={name:"dialog-message",props:["name"],computed:{shouldRender:function(){return this.$store.getters.messageFrom===this.name}},data:function(){return{dialog:!1}},watch:{shouldRender:function(){this.shouldRender&&(this.dialog=!0)},dialog:function(){!1===this.dialog&&this.$store.dispatch("clearMessages")}}},hi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-dialog",{attrs:{"max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-text",[n("form-message",{staticClass:"mt-4",attrs:{name:t.name}})],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"green darken-1",flat:"flat"},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("close")])],1)],1)],1)],1)},pi=[],gi={render:hi,staticRenderFns:pi},_i=gi,bi=n("VU/8"),ki=q,xi=bi(vi,_i,!1,ki,null,null),yi=xi.exports;j.a.use(Za.a,{theme:{primary:"#2196f3"}}),j.a.component(fi.name,fi),j.a.component(ri.name,ri),j.a.component(yi.name,yi),j.a.config.productionTip=!1,new j.a({el:"#app",router:ja,store:Ga,template:"<App/>",components:{App:ve},beforeCreate:function(){var t=this;return H()(z.a.mark(function e(){return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Ga.dispatch("startLoading","autoSigning"),t.next=3,Ca.auth.autoSignIn().then(function(t){return t?Ga.dispatch("setUser",t):null});case 3:Ga.dispatch("stopLoading","autoSigning");case 4:case"end":return t.stop()}},e,t)}))()}})},O0LR:function(t,e){},"Q+Zj":function(t,e){},SQRL:function(t,e){},UKKv:function(t,e){},Vr4B:function(t,e){},VsN4:function(t,e){},WBN3:function(t,e){},WGmG:function(t,e){},ZaCr:function(t,e){},ZntT:function(t,e){},bwTm:function(t,e){},cXAc:function(t,e){},cz7T:function(t,e){},dooJ:function(t,e){},dxLL:function(t,e){},eaj0:function(t,e){},egH7:function(t,e){},fIqz:function(t,e){},icad:function(t,e){},m9dR:function(t,e){},pipM:function(t,e){},s4bS:function(t,e){},sDqE:function(t,e){},ugs3:function(t,e){},v8BH:function(t,e){},vplh:function(t,e){},xgl4:function(t,e){},ynRQ:function(t,e){},zHxp:function(t,e){},zYGc:function(t,e){},zeV4:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a3e7410cb586f7d9deaf.js.map